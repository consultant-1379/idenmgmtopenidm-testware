step,host,command,args,expectedOut,expectedExit,timeout
Create a new user in openIDM with correct attributes,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request PUT --data '{""userName"":""openidmtafjohn"", ""firstName"":""openidmtafjohn"", ""lastName"":""smith"", ""email"":""openidmtafjohn@example.com"", ""password"":""TestPassw0rd"", ""userType"":""enmUser"", ""status"":""Enabled""}' https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn","{""_id"":""openidmtafjohn"",""_rev"":""0""}",0,10000
Verify if the user is created in openDJ,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafjohn","dn: uid=openidmtafjohn,ou=People",0,10000
Create a existing user in openIDM,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request PUT --data '{""userName"":""openidmtafjohn"", ""firstName"":""openidmtafjohn"", ""lastName"":""smith"", ""email"":""openidmtafjohn@example.com"", ""password"":""TestPassw0rd"", ""userType"":""enmUser"", ""status"":""Enabled""}' ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn""","error",0,10000
Reset user's password in openIDM,sc1,curl,"-b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-Requested-With: XMLHttpRequest"" --request POST -d '[""openidmtafjohn""]' ""https://HTTPD_HOST_NAME/openidm/endpoint/passwordReset?state=true""","""_id"":""openidmtafjohn""",0,10000
Verify if the user password is reset in openDJ,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafjohn +","pwdReset: true",0,10000
Change user's password reset state to false in openIDM,sc1,curl,"-b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-Requested-With: XMLHttpRequest"" --request POST -d '[""openidmtafjohn""]' ""https://HTTPD_HOST_NAME/openidm/endpoint/passwordReset?state=false""","""_id"":""openidmtafjohn""",0,10000
Verify if the user password is not reset in openDJ,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafjohn +","pwdReset: false",0,10000
Verify creating a user with mixed case username in openIDM,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request PUT --data '{""userName"":""mixedCaseUser"", ""firstName"":""mixedCase"", ""lastName"":""user"", ""email"":""mixedCaseUser@example.com"", ""password"":""TestPassw0rd"", ""userType"":""enmUser"", ""status"":""Enabled""}' https://HTTPD_HOST_NAME/openidm/managed/user/mixedCaseUser","{""_id"":""mixedCaseUser"",""_rev"":""0""}",0,10000
Verify the user with mixed case username is created in openDJ successfully,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=mixedCaseUser","dn: uid=mixedCaseUser,ou=People",0,10000
Verify the uniqueness of a user with mixed case username,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request PUT --data '{""userName"":""MixedCaseUser"", ""firstName"":""mixedCase"", ""lastName"":""user"", ""email"":""mixedCaseUser@example.com"", ""password"":""TestPassw0rd"", ""userType"":""enmUser"", ""status"":""Enabled""}' https://HTTPD_HOST_NAME/openidm/managed/user/MixedCaseUser","""failedPolicyRequirements"":[{""policyRequirements"":[{""policyRequirement"":""UNIQUE""}],""property"":""userName""}]",0,10000
Delete the test user account with mixed case username,sc1,curl,"--header ""If-Match:\""*\"""" --header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request DELETE ""https://HTTPD_HOST_NAME/openidm/managed/user/mixedCaseUser""",,0,10000
