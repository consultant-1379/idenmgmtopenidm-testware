step,host,command,args,expectedOut,expectedOutCode,expectedExit,unexpectedOut,timeout
Verify assigning a user to a role,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-Usernames: openidmtafjohn"" --request GET ""https://HTTPD_HOST_NAME/openidm/endpoint/manageRole?action=adduser&rName=OPERATOR""","""_id"":""OPERATOR"",""_rev""",0,0,""error"",10000
Verify deleting a existing user,sc1,curl,"--header ""If-Match:\""*\"""" --header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request DELETE ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn""",not used,0,0,,10000
Check if the user is deleted,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request GET  ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn""","""error"":404,""reason"":""Not Found""",0,0,,10000
Verify if the user is deleted from openDJ,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafjohn",,0,0,objectClass,10000
Verify the deleted user is not part of the role,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request GET https://HTTPD_HOST_NAME/openidm/managed/role/OPERATOR",not used,0,0,openidmtafjohn,10000
Delete a non-existing user,sc1,curl,"--header ""If-Match:\""*\"""" --header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request DELETE https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn","""error"":404,""reason"":""Not Found""",0,0,,10000
Create the user again in openIDM,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request PUT --data '{""userName"":""openidmtafjohn"", ""firstName"":""openidmtafjohn"", ""lastName"":""smith"", ""email"":""openidmtafjohn@example.com"", ""password"":""TestPassw0rd"", ""userType"":""enmUser"", ""status"":""Enabled""}' https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn","{""_id"":""openidmtafjohn"",""_rev"":""0""}",0,0,,10000
Verify if the user is created in openDJ,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafjohn","dn: uid=openidmtafjohn,ou=People",0,0,,10000
Query an existing user,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request GET  ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn""","""userName"":""openidmtafjohn""",0,0,,10000
Delete the user,sc1,curl,"--header ""If-Match:\""*\"""" --header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request DELETE ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn""",not used,0,0,,10000
Check if the user is deleted,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request GET  ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafjohn""","""error"":404,""reason"":""Not Found""",0,0,,10000
Verify if the user is deleted from openDJ,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""cn=directory manager"" -w OPENDJ_ADMIN_PASSWORD -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafjohn",,0,0,objectClass,10000
