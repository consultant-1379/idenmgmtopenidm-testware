step,host,command,args,expectedOut,expectedExit,timeout
Create a new user,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request  PUT --data '{""userName"":""openidmtafUserPass"", ""firstName"":""openidmtafUserPass"", ""lastName"":""smith"", ""email"":""openidmtafjohn@example.com"", ""password"":""TestPassw0rd"", ""userType"":""enmUser"", ""status"":""Enabled""}' https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafUserPass","{""_id"":""openidmtafUserPass"",""_rev"":""0""}",0,10000
Login to Opendj as the new creatd user is not allowed,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w TestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","Your password has expired",0,10000
User self password change,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-OpenIDM-Username:openidmtafUserPass"" --header ""X-OpenIDM-Reauth-Password:TestPassw0rd"" --header ""X-OpenIDM-New-Password: newTestPassw0rd"" --request POST ""https://HTTPD_HOST_NAME/openidm/endpoint/managePassword""","""_id"":""openidmtafUserPass""",0,10000
Login to Opendj after password change successfully,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w newTestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","cn: openidmtafUserPass",0,10000
Admin force user change password,sc1,curl,"-b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-Requested-With: XMLHttpRequest"" --request POST -d '[""openidmtafUserPass""]' ""https://HTTPD_HOST_NAME/openidm/endpoint/passwordReset?state=true""","""_id"":""openidmtafUserPass""",0,10000
Login to Opendj is not allowed,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w newTestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","Your password has expired",0,10000
User self password change,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-OpenIDM-Username:openidmtafUserPass"" --header ""X-OpenIDM-Reauth-Password:newTestPassw0rd"" --header ""X-OpenIDM-New-Password: TestPassw0rd"" --request POST ""https://HTTPD_HOST_NAME/openidm/endpoint/managePassword""","""_id"":""openidmtafUserPass""",0,10000
Login to Opendj after password change successfully,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w TestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","cn: openidmtafUserPass",0,10000
Admin change user's password is a reset,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request POST -d '[{""replace"":""password"", ""value"": ""newTestPassw0rd""}]' ""https://HTTPD_HOST_NAME/openidm/managed/user?_action=patch&_queryId=for-userName&uid=openidmtafUserPass""","",0,10000
Login to Opendj is not allowed,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w newTestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","Your password has expired",0,10000
User self password change,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --header ""X-OpenIDM-Username:openidmtafUserPass"" --header ""X-OpenIDM-Reauth-Password:newTestPassw0rd"" --header ""X-OpenIDM-New-Password: TestPassw0rd"" --request POST ""https://HTTPD_HOST_NAME/openidm/endpoint/managePassword""","""_id"":""openidmtafUserPass""",0,10000
Login to Opendj after password change successfully,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w TestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","cn: openidmtafUserPass",0,10000
Admin changing user's email does not reset password,sc1,curl,"--header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request POST -d '[{""replace"":""email"", ""value"": ""openidmtafUserPass@example.com""}]' ""https://HTTPD_HOST_NAME/openidm/managed/user?_action=patch&_queryId=for-userName&uid=openidmtafUserPass""","",0,10000
Login to Opendj successfully,sc1,ldapsearch,"-p 1636 --useSSL --trustAll -D ""uid=openidmtafUserPass,ou=people,COM_INF_LDAP_ROOT_SUFFIX"" -w TestPassw0rd -b ""ou=people,COM_INF_LDAP_ROOT_SUFFIX"" uid=openidmtafUserPass","cn: openidmtafUserPass",0,10000
Delete the password testing user,sc1,curl,"--header ""If-Match:\""*\"""" --header ""X-Requested-With: XMLHttpRequest"" -b COOKIE_FILE --cacert /ericsson/tor/data/certificates/sso/ssoserverapache.crt --request DELETE ""https://HTTPD_HOST_NAME/openidm/managed/user/openidmtafUserPass""","",0,10000
